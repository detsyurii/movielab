{"version":3,"file":"static/js/135.2400b06e.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","utils/constants.js","utils/moviesAPI.js"],"sourcesContent":["import { Grid } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <>\n      <Grid\n        height=\"150\"\n        width=\"150\"\n        color=\"#2a363b\"\n        ariaLabel=\"grid-loading\"\n        radius=\"12.5\"\n        wrapperStyle={{ display: 'flex', justifyContent: 'center' }}\n        visible={true}\n      />\n      <p\n        style={{\n          fontWeight: '600',\n          fontSize: '30px',\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '20px',\n        }}\n      >\n        Loading...\n      </p>\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backLink\":\"MovieDetails_backLink__dzd-p\",\"box\":\"MovieDetails_box__0AyGO\",\"description\":\"MovieDetails_description__33mrB\",\"additional\":\"MovieDetails_additional__+f3rh\",\"additionalLinks\":\"MovieDetails_additionalLinks__PXhNc\"};","import { useEffect, useState } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from 'utils/moviesAPI';\nimport { BASE_IMG_URL, DEFAULT_IMG_URL } from 'utils/constants';\nimport { Loader } from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css';\nimport { animateScroll as scroll } from 'react-scroll';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setIsLoading(true);\n      try {\n        setMovie(await getMovieDetails(movieId));\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [movieId]);\n\n  useEffect(() => {\n    if (location.hash === '#cast') {\n      scroll.scrollToTop({\n        duration: 800,\n        smooth: 'easeInOutQuart',\n      });\n    } else if (location.hash === '#reviews') {\n      scroll.scrollToTop({\n        duration: 800,\n        smooth: 'easeInOutQuart',\n      });\n    }\n  }, [location.pathname, location.hash]);\n\n  const handleScrollTo = elementId => {\n    scroll.scrollTo(document.getElementById(elementId).offsetTop, {\n      duration: 800,\n      smooth: 'easeInOutQuart',\n    });\n  };\n\n  return (\n    <>\n      <Link to={location.state?.from ?? '/'} className={css.backLink}>\n        Back to movies\n      </Link>\n      {isLoading && <Loader />}\n      {movie && (\n        <>\n          <div className={css.box}>\n            <img\n              src={\n                movie.poster_path\n                  ? `${BASE_IMG_URL}${movie.poster_path}`\n                  : DEFAULT_IMG_URL\n              }\n              alt=\"\"\n            />\n            <div className={css.description}>\n              <h2>{movie.original_title}</h2>\n              <p>User score: {movie.vote_average.toFixed(1) * 10}%</p>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n              <h3>Genres</h3>\n              <p>{movie.genres.map(genre => genre.name + ' ')}</p>\n            </div>\n          </div>\n\n          <div className={css.additional}>\n            <h4>Additional information</h4>\n            <div className={css.additionalLinks}>\n              <p>\n                <Link\n                  to=\"cast\"\n                  state={{ from: location.state?.from }}\n                  onClick={() => handleScrollTo('cast')}\n                >\n                  Cast\n                </Link>\n              </p>\n              <p>\n                <Link\n                  to=\"reviews\"\n                  state={{ from: location.state?.from }}\n                  onClick={() => handleScrollTo('reviews')}\n                >\n                  Reviews\n                </Link>\n              </p>\n            </div>\n          </div>\n\n          <div id=\"cast\">\n            <Outlet />\n          </div>\n\n          <div id=\"reviews\">\n            <Outlet />\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","export const BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500';\nexport const DEFAULT_IMG_URL =\n  'https://images.pexels.com/photos/6665914/pexels-photo-6665914.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1';\n","import axios from 'axios';\n\nconst API_KEY = 'b2e2d2c8145624ba6f52acc7f816fd89';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const getTrendingMovies = async page => {\n  const { data } = await axios.get(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}&language=en-US&page=${page}`\n  );\n  return data.results;\n};\n\nexport const getMovieBySearch = async query => {\n  const { data } = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&include_adult=false&language=en-US&page=1`\n  );\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const getReviews = async movieId => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  return data.results;\n};\n"],"names":["Loader","height","width","color","ariaLabel","radius","wrapperStyle","display","justifyContent","visible","style","fontWeight","fontSize","marginTop","useState","movie","setMovie","isLoading","setIsLoading","movieId","useParams","location","useLocation","useEffect","fetchMovie","getMovieDetails","console","log","hash","scroll","duration","smooth","pathname","handleScrollTo","elementId","document","getElementById","offsetTop","to","state","from","className","css","src","poster_path","BASE_IMG_URL","DEFAULT_IMG_URL","alt","original_title","vote_average","toFixed","overview","genres","map","genre","name","onClick","id","API_KEY","BASE_URL","getTrendingMovies","page","axios","data","results","getMovieBySearch","query","getCast","cast","getReviews"],"sourceRoot":""}